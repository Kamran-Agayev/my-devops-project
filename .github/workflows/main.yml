script: |
            # 1. Устанавливаем Docker, если его вдруг нет
            sudo apt-get update && sudo apt-get install -y docker.io
            
            # 2. Переходим в папку проекта (создаем, если нет)
            mkdir -p ~/my-project
            cd ~/my-project
            
            # 3. GitHub Actions не копирует файлы сам на сервер в этом экшене, 
            # поэтому мы просто создадим index.html и Dockerfile прямо сейчас одной командой
            echo "<h1>DevOps Power!</h1><p>Deploy date: $(date)</p>" > index.html
            
            echo "FROM nginx:alpine
            COPY index.html /usr/share/nginx/html/index.html" > Dockerfile
            
            # 4. Собираем образ (Build)
            sudo docker build -t my-site:latest .
            
            # 5. Перезапускаем контейнер (Deploy)
            sudo docker stop my-website || true
            sudo docker rm my-website || true
            sudo docker run -d --name my-website -p 80:80 my-site:latest
